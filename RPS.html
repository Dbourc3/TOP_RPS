<!DOCTYPE html>
<html>
<head>
  <title>Rock Paper Scissors JavaScript Program</title>
  <style>
  </style>
</head>
<body>
  <p></p>
  <input type="button" value="Start Game" onclick="game()" >

  <script>

     // Code and function to determine computers hand:
     let choice = ["Rock", "Paper","Scissors"]; // list of choices available to comp

     // function to take array of choices and randomly select one
     function computerPlay(choice) {
        return choice[Math.floor(Math.random()*choice.length)]; 
     }
     
     // We're going to define the user input here:
      let userInput = window.prompt("Please enter you hand choice!", "rock");

     // Function to standardize userInput to match nomenclature of computer
     // Outputs playerSelection string with the first letter capitalized
     // This will match it to the computers input and allow for easy comparison
     function standardize(userInput) {
        let y = userInput.toLowerCase();
        let x = y.charAt(0).toUpperCase();
        return y.replace(y.charAt(0), y.charAt(0).toUpperCase());
     }

     // The playerSelection will now be the user input in correct nomenclature
     const playerSelection = standardize(userInput);
     const computerSelection = computerPlay(choice);
      


     /* 
     Function to play a round of Rock Paper Scissors:
     Takes input playerSelection (user defined) and computerSelection (random function)
     It will then determine a winner or tie or invalid based on the criteria below
     */
     function playRound(playerSelection, computerSelection) {
         if((playerSelection == "Rock" || playerSelection == "Paper" || playerSelection == "Scissors") 
            && (playerSelection !== computerSelection)) { 
            /*
            If the player selection is valid and is not the same as the computer's
            selection then the following switch statement will run to compare hands
            and determine if user wins or loses
            */
            switch (playerSelection + "vs" + computerSelection) {
               case ("RockvsScissors"):
                  return "You Win, Rock beats Scissors!";
                  break;
               case("RockvsPaper"):
                  return "You lose, Paper beats Rock!";
                  break;
               case("PapervsRock"):
                  return "You Win, Paper beats Rock!";
                  break;
               case("PapervsScissors"):
                  return "You lose, Scissors beats Paper!";
                  break;
               case("ScissorsvsPaper"):
                  return "You win, Scissors beats Paper!";
                  break;
               case("ScissorsvsRock"):
                  return "You lose, Rock beats Scissors";
                  break;
            }
         } else if(playerSelection == computerSelection) {
            return "You tied with the computer, impressive really"
         } else {
            return "Please input an actual choice, sir";
         }
      }

   // The following JavaScript Coding is for the Game portion of the RPS Project

   // First I am going to redefine the playRound function in order to make it 
   // more friendly for counting wins and losses in for loop
   function playRoundGame(playerSelection, computerSelection) {

         if((playerSelection == "Rock" || playerSelection == "Paper" || playerSelection == "Scissors") 
            && (playerSelection !== computerSelection)) { 
            /*
            If the player selection is valid and is not the same as the computer's
            selection then the following switch statement will run to compare hands
            and determine if user wins or loses
            */
            switch (playerSelection + "vs" + computerSelection) {
               case ("RockvsScissors"):
                  return "You win";
                  break;
               case("RockvsPaper"):
                  return "You lose";
                  break;
               case("PapervsRock"):
                  return "You win";
                  break;
               case("PapervsScissors"):
                  return "You lose";
                  break;
               case("ScissorsvsPaper"):
                  return "You win";
                  break;
               case("ScissorsvsRock"):
                  return "You lose";
                  break;
            }
         } else if(playerSelection == computerSelection) {
            return "You tie"
         } else {
            return "Please input an actual choice, sir";
         }
      }



      function game() {
         let playerScore = 0; // Initializing player score to 0.
         let computerScore = 0; // Initializing computer score to 0.
         let i = 1;
         while (i <=5 ) {
            // Code and function to determine computers hand:
            let choice = ["Rock", "Paper","Scissors"]; // list of choices available to comp

            // We're going to define the user input here:
            let userInput = window.prompt("Please enter you hand choice!", "rock");

            // The playerSelection will now be the user input in correct nomenclature 
            const playerSelection = standardize(userInput);
            const computerSelection = computerPlay(choice);
            result = playRoundGame(playerSelection, computerSelection);
            console.log(result);
            if (result == "You win") {
               playerScore+=1;
               i++;
               console.log("You have " + playerScore + " points and the computer has " + computerScore + " points.")
            } else if (result == "You lose") {
               computerScore+=1;
               i++;
               console.log("You have " + playerScore + " points and the computer has " + computerScore + " points.");
            } else {
               playerScore+=0;
               computerScore+=0;
            }
         }

         if (playerScore > computerScore) {
            console.log("You win the game!")
         } else if(computerScore > playerScore) {
            console.log("You lose the game")
         }

      }

      
     

      
  </script>
</body>
</html>